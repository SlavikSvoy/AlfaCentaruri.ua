<!DOCTYPE html>
<html lang="ua">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />

  <title>Канали</title>

  <link rel="stylesheet" href="css/channel.css" />
  <link rel="shortcut icon" href="svg/channel.svg" type="image/x-icon" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
</head>

<body>
  <nav>
    <input type="checkbox" id="check">
    <label for="check" class="checkbtn">
      <i class="fas fa-bars"></i>
    </label>
    <label class="logo"> Alfa Centauri</label>

    <ul>
      <li><a class="active" href="index.html">Home</a></li>
      <li><a href="my_channel.html">Author</a></li>
      <li><a href="com.html">Reviews</a> </li>
      <li><a href="donate.html">Donate</a></li>
      <li><a href="Mini Game.html">Mini Game</a></li>
      <li><a href="about us.html">About us</a></li>
      <li><a href="registration.html" target="_blank"> Login </a></li>
    </ul>
  </nav>
  <section class="table_header">
    <h1>TOP 5 SCIENCE CHANNELS</h1>
  </section>
  <main class="table" id="channel_table">

    <section class="table_body">
      <table>
        <thead>
          <tr>
            <th>Logo</th>
            <th>Name</th>
            <th>subscribers</th>
            <th>views</th>
            <th>videos</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><img src="channel/Tsikava nauka.jpg" alt="" /></td>
            <td>
              <strong><a href="https://www.youtube.com/channel/UCMIVE71tHEUDkuw8tPxtzSQ" target="_blank">Цікава
                  наука</a></strong>
            </td>
            <td id="subscribers1"></td>
            <td id="views1"></td>
            <td id="videos1"></td>
          </tr>
          <tr>
            <td><img src="channel/Alpha Centauri.jpg" alt="" /></td>
            <td>
              <strong><a href="https://www.youtube.com/channel/UCbhABwj6Ijp1dYG3Wo5Ek3Q" target="_blank">Alpha
                  Centauri</a></strong>
            </td>
            <td id="subscribers2"></td>
            <td id="views2"></td>
            <td id="videos2"></td>
          </tr>
          <tr>
            <td><img src="channel/Svidok EVOLYUTSIYI.jpg" alt="" /></td>
            <td>
              <strong><a href="https://www.youtube.com/channel/UCF9KqqyMHuOpbU6w_cVHGLw" target="_blank">Свідок
                  ЕВОЛЮЦІЇ</a></strong>
            </td>
            <td id="subscribers3"></td>
            <td id="views3"></td>
            <td id="videos3"></td>
          </tr>
          <tr>
            <td><img src="channel/nauka_ua.jpg" alt="" /></td>
            <td>
              <strong><a href="https://www.youtube.com/channel/UCeh1dAupre7xBeHoOCqhKbw"
                  target="_blank">nauka․ua</a></strong>
            </td>
            <td id="subscribers4"></td>
            <td id="views4"></td>
            <td id="videos4"></td>
          </tr>
          <tr>
            <td><img src="channel/Vsesvit UA.jpg" alt="" /></td>
            <td>
              <strong><a href="https://www.youtube.com/channel/UCi0Z9L9HrhD7oYpMs2pLxSw" target="_blank">Всесвіт
                  UA</a></strong>
            </td>
            <td id="subscribers5"></td>
            <td id="views5"></td>
            <td id="videos5"></td>
        </tbody>
      </table>
    </section>
  </main>
  <script>
    var apiKey = 'AIzaSyB7ctJyxez2eto-qe8lfkw4bZTJaUAEJWo';
    var channelIds = ['UCMIVE71tHEUDkuw8tPxtzSQ', 'UCbhABwj6Ijp1dYG3Wo5Ek3Q', 'UCF9KqqyMHuOpbU6w_cVHGLw', 'UCeh1dAupre7xBeHoOCqhKbw', 'UCi0Z9L9HrhD7oYpMs2pLxSw'];

    function updateChannelStatistics() {
      // Проходьте циклом по кожному ID каналу
      channelIds.forEach((channelId, index) => {
        var url = `https://www.googleapis.com/youtube/v3/channels?part=statistics&id=${channelId}&key=${apiKey}`;

        fetch(url)
          .then(response => response.json())
          .then(data => {
            var statistics = data.items[0].statistics;
            // Оновіть відповідні елементи HTML за допомогою унікальних ID
            document.getElementById('subscribers' + (index + 1)).textContent = statistics.subscriberCount;
            document.getElementById('views' + (index + 1)).textContent = statistics.viewCount;
            document.getElementById('videos' + (index + 1)).textContent = statistics.videoCount;
          })
          .catch(error => console.error('Error:', error));
      });
    }

    updateChannelStatistics();
    // Оновлення статистики кожні 30 секунд
    setInterval(updateChannelStatistics, 30000);
  </script>
</body>

</html>